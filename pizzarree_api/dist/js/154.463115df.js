"use strict";(globalThis["webpackChunkpizzarree"]=globalThis["webpackChunkpizzarree"]||[]).push([[154],{154:(e,r,s)=>{s.r(r),s.d(r,{default:()=>P});var a=s(9835),o=s(6970),l=s(1957);const t={class:"text-center"},d={class:"flex items-start"},u={class:"justify-between row full-width"};function n(e,r,s,n,i,p){const c=(0,a.up)("FormErrors"),m=(0,a.up)("q-input"),w=(0,a.up)("q-checkbox"),h=(0,a.up)("q-btn"),b=(0,a.up)("q-form"),g=(0,a.up)("q-card"),f=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(f,{class:"flex items-end content-center justify-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{class:"q-px-xl q-pb-xl"},{default:(0,a.w5)((()=>[(0,a._)("h4",t,(0,o.zw)(n.capitalize(n.t("user.password_change"))),1),(0,a.Wm)(b,{class:"q-gutter-sm column tw-min-w-[380px]",onSubmit:(0,l.iM)(n.handleSubmit,["prevent"])},{default:(0,a.w5)((()=>[n.resetForm.commonErrors()?((0,a.wg)(),(0,a.j4)(c,{key:0,errors:n.resetForm.errors},null,8,["errors"])):(0,a.kq)("",!0),(0,a.Wm)(m,{outlined:"",modelValue:n.resetForm.old_password,"onUpdate:modelValue":r[0]||(r[0]=e=>n.resetForm.old_password=e),type:n.isPwd?"password":"text",label:n.capitalize(n.t("user.old_password")),autocomplete:"",autocorrect:"off",spellcheck:"false",disable:n.loading,rules:[n.requiredField],"lazy-rules":"ondemand",error:n.resetForm.errors.has("old_password"),"error-message":n.resetForm.errors.get("old_password")},null,8,["modelValue","type","label","disable","rules","error","error-message"]),(0,a.Wm)(m,{outlined:"",modelValue:n.resetForm.password,"onUpdate:modelValue":r[1]||(r[1]=e=>n.resetForm.password=e),type:n.isPwd?"password":"text",label:n.capitalize(n.t("user.new_password")),autocomplete:"",autocorrect:"off",spellcheck:"false",disable:n.loading,rules:[n.requiredField],"lazy-rules":"ondemand",error:n.resetForm.errors.has("password"),"error-message":n.resetForm.errors.get("password")},null,8,["modelValue","type","label","disable","rules","error","error-message"]),(0,a.Wm)(m,{outlined:"",modelValue:n.resetForm.password2,"onUpdate:modelValue":r[2]||(r[2]=e=>n.resetForm.password2=e),type:n.isPwd?"password":"text",label:n.capitalize(n.t("user.new_password_confirm")),autocomplete:"",autocorrect:"off",spellcheck:"false",disable:n.loading,rules:[n.requiredField],"lazy-rules":"ondemand",error:n.resetForm.errors.has("password2"),"error-message":n.resetForm.errors.get("password2")},null,8,["modelValue","type","label","disable","rules","error","error-message"]),(0,a._)("div",d,[(0,a._)("div",u,[(0,a.Wm)(w,{label:n.capitalize(n.t("user.show_password")),modelValue:n.showPassword,"onUpdate:modelValue":r[3]||(r[3]=e=>n.showPassword=e),onClick:r[4]||(r[4]=e=>n.isPwd=!n.isPwd)},null,8,["label","modelValue"]),(0,a.Wm)(h,{label:n.capitalize(n.t("change")),type:"submit",color:"primary",loading:n.loading,"no-caps":""},null,8,["label","loading"])])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})}s(2879);var i=s(499),p=s(6501),c=s(4487),m=s(6647),w=s(8339),h=s(6827),b=s(321);const g={components:{FormErrors:c.Z},name:"PasswordChange",async setup(){const e="api/v1/accounts/api-auth-user/password_change/",r=(0,i.ref)(!1),s=(0,i.ref)(!1),{t:a}=(0,m.QT)(),o=(0,w.tv)(),{capitalize:l}=b["default"],t=(0,i.ref)(!0),d=(0,i.reactive)(new p["default"]({old_password:"",password:"",password2:""})),u=async()=>{r.value=!0,await d.post(e).catch((e=>e))},n=e=>e&&e.length>0||a("required_field");return d.onSuccess=async()=>{d.reset(),await o.push({name:"Dashboard"}),h.Z.create({type:"positive",message:a("password changed successfully"),progress:!0,position:"top"})},d.onFinished=()=>{r.value=!1},{loading:r,isPwd:t,resetForm:d,requiredField:n,handleSubmit:u,t:a,capitalize:l,showPassword:s}}};var f=s(1639),F=s(9885),y=s(4458),_=s(8326),z=s(6611),q=s(1221),k=s(4455),v=s(9984),x=s.n(v);const V=(0,f.Z)(g,[["render",n]]),P=V;x()(g,"components",{QPage:F.Z,QCard:y.Z,QForm:_.Z,QInput:z.Z,QCheckbox:q.Z,QBtn:k.Z})}}]);